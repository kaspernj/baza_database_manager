- content_for(:header_title) { t(".show_table", name: @table.name) }

.row
  .col-md-8
    %h2= t(".columns")
  .col-md-4
    .pull-right
      = link_to t("add_new"), new_profile_database_table_column_path(@profile, @database.name, @table.name), class: ["btn", "btn-default"]

%table.table.table-bordered.table-striped.table-hover
  %thead
    %tr
      %th= t(".name")
      %th= t(".type")
      %th= t("actions")
  %tbody
    - @table.columns.each do |_name, column|
      %tr
        %td= link_to column.name, profile_database_table_column_path(@profile, @database.name, @table.name, column.name)
        %td= column.type
        %td
          = link_to t("edit"), edit_profile_database_table_column_path(@profile, @database.name, @table.name, column.name), class: ["btn", "btn-xs", "btn-default"]
          = link_to t("delete"), profile_database_table_column_path(@profile, @database.name, @table.name, column.name), method: :delete, class: ["btn", "btn-xs", "btn-danger"], data: {confirm: t("are_you_sure")}
    - if @table.columns.empty?
      %tr
        %td{colspan: 2}= t("no_results")

%h2= t(".indexes")
%table.table.table-bordered.table-striped.table-hover
  %thead
    %tr
      %th= t(".name")
      %th= t(".columns")
      %th= t("actions")
  %tbody
    - @table.indexes.each do |_name, index|
      %tr
        %td= link_to index.name, profile_database_table_index_path(@profile, @database.name, @table.name, index.name)
        %td
          - index.columns.each do |column_name|
            = link_to column_name, profile_database_table_column_path(@profile, @database.name, @table.name, column_name), class: ["btn", "btn-default", "btn-xs"]
        %td
          = link_to t("edit"), edit_profile_database_table_index_path(@profile, @database.name, @table.name, index.name), class: ["btn", "btn-default", "btn-xs"]
          = link_to t("delete"), profile_database_table_index_path(@profile, @database.name, @table.name, index.name), method: :delete, class: ["btn", "btn-danger", "btn-xs"], data: {confirm: t("are_you_sure")}
    - if @table.indexes.empty?
      %tr
        %td{colspan: 3}= t("no_results")
